/**
 * Copyright (c) Tiny Technologies, Inc. All rights reserved.
 * Licensed under the LGPL or a commercial license.
 * For LGPL see License.txt in the project root for license information.
 * For commercial licenses see https://www.tiny.cloud/
 *
 * Version: 5.10.2 (2021-11-17)
 */
!function(){"use strict";function o(e){var t=function(t){var n="",i=t.dom.encode,e=t.getParam("content_style","","string");n+='<base href="'+i(t.documentBaseURI.getURI())+'">';var o=t.getParam("content_css_cors",!1,"boolean")?' crossorigin="anonymous"':"";l.each(t.contentCSS,function(e){n+='<link type="text/css" rel="stylesheet" href="'+i(t.documentBaseURI.toAbsolute(e))+'"'+o+">"}),e&&(n+='<style type="text/css">'+e+"</style>");var a=-1===(s=(r=t).getParam("body_id","tinymce","string")).indexOf("=")?s:(r=(s=r).getParam("body_id","","hash"))[s.id]||r,r=-1===(s=(e=t).getParam("body_class","","string")).indexOf("=")?s:(e=e).getParam("body_class","","hash")[e.id]||"",s=c.mac?"e.metaKey":"e.ctrlKey && !e.altKey",e=t.getContent();"function"==typeof parseTemplates&&(e=parseTemplates(e));e='<script>document.addEventListener && document.addEventListener("click", function(e) {for (var elm = e.target; elm; elm = elm.parentNode) {if (elm.nodeName === "A" && !('+s+")) {e.preventDefault();}}}, false);<\/script> ",s=t.getBody().dir,s=s?' dir="'+i(s)+'"':"";return"<!DOCTYPE html><html><head>"+n+'</head><body id="'+i(a)+'" class="mce-content-body '+i(r)+'"'+s+">"+t.getContent()+e+"</body></html>"}(e);e.windowManager.open({title:"Preview",size:"large",body:{type:"panel",items:[{name:"preview",type:"iframe",sandboxed:!0}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{preview:t}}).focus("close")}var c=tinymce.util.Tools.resolve("tinymce.PluginManager"),l=(tinymce.util.Tools.resolve("tinymce.Env"),tinymce.util.Tools.resolve("tinymce.util.Tools"));c.add("preview",function(e){var t,n;function i(){return n.execCommand("mcePreview")}(t=e).addCommand("mcePreview",function(){o(t)}),(n=e).ui.registry.addButton("preview",{icon:"preview",tooltip:"Preview",onAction:i}),n.ui.registry.addMenuItem("preview",{icon:"preview",text:"Preview",onAction:i})})}();